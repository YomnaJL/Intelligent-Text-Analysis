<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>Analyse de Texte</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(to right, #eef2f3, #8e9eab);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        border-radius: 1rem;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      }
      h1 {
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="card p-4 p-md-5 my-5">
        <h1 class="text-center mb-4">üìù Analyse de Texte Intelligent</h1>
        <form method="post">
          <div class="mb-3">
            <label for="text" class="form-label">Texte √† analyser :</label>
            <textarea class="form-control" id="text" name="text" rows="8"
                      placeholder="Entrez votre texte ici...">{{ request.form.text or '' }}</textarea>
          </div>

          <div class="mb-3">
            <label for="lang" class="form-label">Langue de sortie :</label>
            <select name="lang" id="lang" class="form-select">
              <option value="fr" {% if request.form.get('lang') == 'fr' %}selected{% endif %}>Fran√ßais</option>
              <option value="en" {% if request.form.get('lang') == 'en' %}selected{% endif %}>Anglais</option>
              <option value="ar" {% if request.form.get('lang') == 'ar' %}selected{% endif %}>Arabe</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="task" class="form-label">Action √† effectuer :</label>
            <select name="task" id="task" class="form-select">
              <option value="translate" {% if request.form.get('task') == 'translate' %}selected{% endif %}>Traduire</option>
              <option value="summary" {% if request.form.get('task') == 'summary' %}selected{% endif %}>R√©sum√©</option>
              <option value="keywords" {% if request.form.get('task') == 'keywords' %}selected{% endif %}>Mots-cl√©s</option>
              <option value="category" {% if request.form.get('task') == 'category' %}selected{% endif %}>Cat√©gorie</option>
              <option value="simplify" {% if request.form.get('task') == 'simplify' %}selected{% endif %}>Simplification</option>
              <option value="facts" {% if request.form.get('task') == 'facts' %}selected{% endif %}>Faits cl√©s</option>
              <option value="title" {% if request.form.get('task') == 'title' %}selected{% endif %}>Titre</option>
              <option value="sentiment" {% if request.form.get('task') == 'sentiment' %}selected{% endif %}>Analyse du sentiment</option>
              <option value="question_generation" {% if request.form.get('task') == 'question_generation' %}selected{% endif %}>G√©n√©ration de questions</option>
              <option value="grammar_correction" {% if request.form.get('task') == 'grammar_correction' %}selected{% endif %}>Correction grammaticale</option>
              <option value="text_completion" {% if request.form.get('task') == 'text_completion' %}selected{% endif %}>Compl√©tion de texte</option>
              <option value="code_generation" {% if request.form.get('task') == 'code_generation' %}selected{% endif %}>G√©n√©ration de code</option>

            </select>
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-primary px-5">üöÄ Lancer</button>
          </div>
        </form>

        {% if result %}
          <div class="mt-4">
            <h4>R√©sultat :</h4>
            <div class="alert alert-success p-3 shadow-sm" style="white-space: pre-wrap;">
              {{ result }}
            </div>
          </div>
        {% endif %}
        {% if response_time %}
  <div class="mt-2 text-muted">
    <small>‚è± Temps de r√©ponse : {{ '%.2f'|format(response_time) }} secondes</small>
  </div>
{% endif %}

        
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
"""